<div class="panel panel-default resources-widget">
    <div class="panel-heading">
        Resources
        <span class="filter">
            <span class="dropdown">
                <span id="dLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="filter-value">All</span> <i class="feather chevron-down"></i>
                </span>
                <ul class="dropdown-menu" aria-labelledby="dLabel">
                    <li><a href="#"><i class="feather circle"></i> All</a></li>
                    <li><a href="#"><i class="feather link"></i> Links</a></li>
                    <li><a href="#"><i class="feather image"></i> Images</a></li>
                    <li><a href="#"><i class="feather file-text"></i> Documents</a></li>
                    <li><a href="#"><i class="feather film"></i> Videos</a></li>
                </ul>
            </span>
        </span>
        <button *ngIf="data.user_type == 1" class="btn btn-success" (click)="openModal(resourcesModal)">Manage</button>
    </div>
    <div class="panel-body scrollable">
        <!-- Placeholder -->
        <div class="text-center" *ngIf="company_resources.length == 0 && data.user_type == 1">
            <img src="assets/img/resources-illustration.svg" alt="Apps" width="130" style="margin-top:10px">
            <h4>Choose the Resources</h4>
            <p>Click on "Manage" to select the Resources to use with this client.</p>
        </div>
        <!-- Placeholder -->

          <div class="row">
            <div class="col-md-6" *ngFor="let resource of company_resources; let i = index">
                <a href="#" class="resources-item">
                    <div class="resources-thumb"><img src="http://placehold.it/64x64/111"></div>
                    <div class="resources-content">
                        <div class="resources-content-wrapper">
                            <div class="resources-type"><i class="feather image"></i> Image</div>
                            <div class="resources-title">{{resource.name}}</div>
                            <div class="resources-description">{{resource.description}}</div>
                        </div>
                    </div>
                </a>
            </div>
        </div>  
    </div>
</div>

<ng-template #resourcesModal class="modal-lg">
    <div class="modal-header">
    <button type="button" class="close" (click)="modalRef.hide()" aria-label="Close"><i class="feather x"></i></button>
    <h4 class="modal-title" id="myModalLabel">Manage Apps for <strong>Client Name</strong></h4>
    </div>
    <div class="modal-body">
    <div class="manage-apps-list">
        <h4>Selected Apps</h4>
        <p>Drag and drop the Selected Apps and choose the best order do display it to your client. Click an App to remove it from this list.</p>
        <div class="manage-apps-row selected-apps scrollbars" [dragula]='"bag-client"' [dragulaModel]='company_resources' [dragulaOptions]='dragulaOptions'>
            <div class="manage-apps-card active" *ngFor="let resource of company_resources; let i = index" (click)="delete_company_resource(resource, i)">
                <i class="manage-apps-icon feather package" placement="right" tooltip="Global library"></i>
                <img src="" alt="{{resource.name}}" class="manage-apps-logo">
                <div class="app-name">{{resource.name}}</div>
                <div class="app-description">{{resource.category}}</div>
            </div>
        </div>
    </div>
    <div class="manage-apps-list">
        <div class="row">
            <div class="col-xs-6">
                <div dropdown style="display:inline-block">
                    <span dropdownToggle>
                        <h4 class="manage-apps-filter"><span class="library-name">All Libraries</span> <i class="feather chevron-down"></i></h4>
                    </span>
                    <ul *dropdownMenu class="dropdown-menu" role="menu" style="left:15px;top:30px">
                        <li role="menuitem"><a class="dropdown-item" href="#">Global Library</a></li>
                        <li role="menuitem"><a class="dropdown-item" href="#">Practice Library</a></li>
                    </ul>
                </div>
                <div class="manage-apps-search">
                    <i class="feather search"></i> <input type="text" placeholder="Search in Apps">
                </div>
            </div>
            <div class="col-xs-6 text-right">
                <div class="manage-apps-order" dropdown placement="bottom right">
                    <span dropdownToggle>
                        Sort by <span class="sort-by">Recently Used</span> <i class="feather chevron-down"></i>
                    </span>
                    <ul *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu">
                        <li role="menuitem"><a class="dropdown-item" href="#">Recently Used</a></li>
                        <li role="menuitem"><a class="dropdown-item" href="#">Alphabetical Order</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <p>Simply click an App to add it to the Selected Apps.</p>
        <div class="manage-apps-row library scrollbars">
            <!-- <div class="manage-apps-card new-app">
                <i class="feather upload-cloud x3"></i>
                <div class="app-name">New App</div>
            </div> -->
            <div class="manage-apps-card" *ngFor="let resource of all_resources; let i = index" (click)="add_company_resource(resource, i)">
                <i class="manage-apps-icon feather package" placement="right" tooltip="Global library"></i>
                <img src="" alt="{{resource.name}}" class="manage-apps-logo">
                <div class="app-name">{{resource.name}}</div>
                <div class="app-description">{{resource.category}}</div>
            </div>
        </div>
    </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" (click)="modalRef.hide()">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
    </div>
</ng-template>